# 変数とは

以前のプログラムでは、文字や数値などを表示する機能を解説しました。
これらは全てデータとして、コンピューターのメモリ上に保存されています。
プログラミング言語には、データに名前を付けてデータを管理する機能が用意されています。
コンピューターのメモリに名前を付けて保存されたデータを「変数」と呼びます。

# 識別子と型

変数を使用するには、あらかじめ「識別子」と「型」を指定してあげなければなりません。
識別子とは、プログラムを記述する際に任意につけられる名前のことです。
C++では以下のルールに従っていれば、どの名前も識別子にすることができます。

1. 半角英数字と_（アンダースコア）が使用できます
2. 数字から始めることはできません
3. intやreturnなどの予約語（プログラミング言語で予め使用されているキーワード）は使用できません
4. 1文字目が_でかつ2文字目が大文字もしくは_で始めてはいけません

例えば、以下の名前であれば識別子にすることはできます。

```
value_01
number
numA
```

一方で、以下の名前は識別子に使用することができません。

```
123value // 数字から始めてはいけません
__number // 1文字目と2文字目が_はいけません
num--val // 識別子に使用できない文字が含まれています
```

型とは、変数の種類のことです。
C++には様々な型が用意されていますが、代表的なものとしては以下のものがあります。

| 種別 | 型 | 格納できる値 | サイズ |
| :-- | :-- | :-- | :-- |
| 文字 | char | -128から127まで | 1バイト |
| 論理 | bool | trueまたはfalse | 1バイト |
| 整数 | int | -2147483648から2147483647まで | 4バイト |
| 浮動小数点数 | float | -3.402823e+38から-1.175494e-38まで<br>もしくは1.175494e-38から3.402823e+38まで | 4バイト |
| 浮動小数点数 | double | -1.797693e+308から-2.225074e-308まで<br>もしくは2.225074e-308から1.797693e+308まで | 8バイト |

なお、格納できる値やサイズはVisual Studioでの場合であり、別の環境によっては異なる場合があります。

# 変数の宣言

識別子と型を決めたところで、変数を使ってみましょう。
最初に行う処理は、プログラムに変数を用意することです。
この処理を「宣言」と呼びます。
宣言は以下のようにして行います。

```
型 識別子;
```

型をint、識別子をnumberとした場合、変数の宣言は以下の通りになります。

- main.cpp

    ```
    #include <iostream>

    int main() {
        int number;
        return 0;
    }

    ```

変数は、型が同じであれば、複数の変数を1つの文に宣言することができます。
このとき、識別子と識別子の間を,（カンマ）で区切ります。
なお、同じ識別子を2つ以上宣言することはできません。
識別子が同じだと、コンパイラがどの識別子がどの変数に対応するのか判別できないからです。

```
型 識別子1, 識別子2, 識別子3, ... , 識別子n;
```

- main.cpp

    ```
    #include <iostream>

    int main() {
        int number_1, number_2;
        return 0;
    }

    ```

# 代入と初期化

変数の宣言ができたら、次に変数に値を格納する作業を行います。
この処理を「代入」と呼びます。
代入は以下のようにして行います。

```
識別子 = 値;
```

- main.cpp

    ```
    #include <iostream>

    int main() {
        int number;
        number = 100;
        std::cout << number << '\n';
        return 0;
    }

    ```

- 実行結果

    ```
    100
    ```

変数が数値に代入されることで、変数の中身を画面に出力させることができます。

- 数学の=との違い

    数学では=は「等しい」という意味で扱われます。
    しかしC++では、=は等しいではなく「代入」という意味です。
    意味が全く異なるので十分注意してください。

先ほどのプログラムでは、変数を宣言してから値を代入していました。
しかし、これは少し冗長な書き方です。
変数を宣言すると同時に、値を格納する処理もあります。
この処理を「初期化」と呼びます。
初期化は以下のようにして行います。

```
型 識別子 = 値;
```

- main.cpp

    ```
    #include <iostream>

    int main() {
        int number = 100;
        std::cout << number << '\n';
        return 0;
    }

    ```

- 実行結果

    ```
    100
    ```

今後、変数を宣言する際は初期化を行う処理を記述することをおすすめします。

# 変数の再代入

既に値が代入されている変数に別の値を代入すると、値が上書きされて変数の値が変更されます。

- main.cpp

    ```
    #include <iostream>

    int main() {
        int number_1 = 100;
        std::cout << "number_1 = " << number_1 << '\n';

        // 再び代入します
        number_1 = 200;

        std::cout << "number_1 = " << number_1 << '\n';
        return 0;
    }

    ```

- 実行結果

    ```
    number_1 = 100
    number_1 = 200
    ```

また、変数に別の変数の値を代入することもできます。

- main.cpp

    ```
    #include <iostream>

    int main() {
        int number_1 = 100, number_2 = 0;
        std::cout << "number_1 = " << number_1 << '\n';
        std::cout << "number_2 = " << number_2 << '\n';

        // number_2にnumber_1の値を代入します
        number_2 = number_1;

        std::cout << "number_2 = " << number_2 << '\n';
        return 0;
    }

    ```

- 実行結果

    ```
    number_1 = 100
    number_2 = 0
    number_2 = 100
    ```

数が変わるから変数と呼ばれるのです。

# スコープ

変数は宣言した位置から、ブロックの末尾まで使用することができます。
変数が使用できる範囲を「スコープ」と呼びます。
変数を宣言する前はスコープの範囲外になるため、変数を使用することはできません。

- main.cpp

    ```
    #include <iostream>

    int main() {
        // std::cout << number << '\n'; // 宣言前は使用できません
        int number = 0;
        return 0;
        // 変数numberはここまで使用できます
    }

    ```

一方、スコープはブロックを用いることで、任意に指定することができます。
また、スコープが異なっていれば、同じ識別子の変数を宣言することができます。

- main.cpp

    ```
    #include <iostream>

    int main() {
        int number = 100;
        {
            int number = 10;
            std::cout << number << '\n';
        }
        std::cout << number << '\n';
        return 0;
    }

    ```

- 実行結果

    ```
    10
    100
    ```

# キーボードから数値や文字を入力するには

最後にキーボード入力から、値を入力する処理を記述することにしましょう。
以下のプログラムを実行してみましょう。

- main.cpp

    ```
    #include <iostream>

    int main() {
        int number = 0;
        std::cout << "数値を入力してEnterを押してください" << '\n';
        std::cin >> number;
        std::cout << "number = " << number << '\n';
        return 0;
    }

    ```

キーボードに100と入力してEnterキーを押しましょう。
すると以下の実行結果になるはずです。

- 実行結果

    ```
    数値を入力してEnterを押してください
    100
    number = 100
    ```

std::cinから始まる行が、キーボード入力を行う命令です。
書き方は以下の通りです。

```
std::cin >> 変数;
```

std::cinの行が実行されると、キーボードの入力待ちの状態になります。数値を入力してEnterを押すとstd::cinの処理が完了して、プログラムの処理が再開されます。

std::cinは数値だけでなく、文字も入力することができます。

- main.cpp

    ```
    #include <iostream>

    int main() {
        char letter = ' ';
        std::cout << "文字を入力してEnterを押してください" << '\n';
        std::cin >> letter;
        std::cout << "letter = " << letter << '\n';
        return 0;
    }

    ```

- 実行結果

    ```
    文字を入力してEnterを押してください
    a
    letter = a
    ```

入力する文字を変えると、画面に出力される文字も変わることを確認してみましょう。

- 入力間違いにご用心

    今回のプログラムでは、文字列や記号など、数値や文字以外のものを入力してEnterを押してしまうと、プログラムが正常に動作しなくなります。
    このため、本来であれば入力に誤りがあった際の処理を記述しなければなりません。
    しかしそれを実現するには、より複雑な処理を学んでいく必要があります。
